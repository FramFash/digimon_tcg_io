import{t as P,a as B}from"./0jAoUWee.js";import"./BeYzX27F.js";import{l as O,p as D,x as c,y as u,A as w,z as E,C as G,v as H}from"./l0YyKlY9.js";import{s as I}from"./B1NwtjCx.js";import{s as b}from"./Bjjpgqfz.js";import{e as h}from"./B6Wchq8G.js";import{i as K}from"./CQbDCWo8.js";import{p as J,a as C,s as Q}from"./DYxqfdHp.js";import{w as V}from"./BDI4V7ai.js";function j(t){var s,e,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(s=0;s<n;s++)t[s]&&(e=j(t[s]))&&(i&&(i+=" "),i+=e)}else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}function T(){for(var t,s,e=0,i="",n=arguments.length;e<n;e++)(t=arguments[e])&&(s=j(t))&&(i&&(i+=" "),i+=s);return i}function X(t){return typeof t=="object"?T(t):t??""}const R=[...` 	
\r\fÂ \v\uFEFF`];function Y(t,s,e){var i=t==null?"":""+t;if(s&&(i=i?i+" "+s:s),e){for(var n in e)if(e[n])i=i?i+" "+n:n;else if(i.length)for(var r=n.length,a=0;(a=i.indexOf(n,a))>=0;){var o=a+r;(a===0||R.includes(i[a-1]))&&(o===i.length||R.includes(i[o]))?i=(a===0?"":i.substring(0,a))+i.substring(o+1):a=o}}return i===""?null:i}function U(t,s,e,i,n,r){var a=t.__className;if(O||a!==e){var o=Y(e,i,r);(!O||o!==t.getAttribute("class"))&&(o==null?t.removeAttribute("class"):t.className=o),t.__className=e}else if(r&&n!==r)for(var v in r){var f=!!r[v];(n==null||f!==!!n[v])&&t.classList.toggle(v,f)}return r}function Z(){var s;const t=(s=document.cookie.split("; ").find(e=>e.startsWith("favorites=")))==null?void 0:s.split("=")[1];try{const e=t?JSON.parse(decodeURIComponent(t)):[];return new Map(e)}catch{return new Map}}function tt(t){const s=Array.from(t.entries()),e=encodeURIComponent(JSON.stringify(s));document.cookie=`favorites=${e}; path=/; max-age=${60*60*24*365}`}const et=Z(),k=V(new Map(et));k.subscribe(t=>{tt(t)});function it(t){k.update(s=>{const e=new Map(s);return e.get(t)?e.delete(t):e.set(t,!0),new Map(e)})}function st(){var s;const t=(s=document.cookie.split("; ").find(e=>e.startsWith("owned=")))==null?void 0:s.split("=")[1];try{const e=t?JSON.parse(decodeURIComponent(t)):[];return new Map(e)}catch{return new Map}}function ot(t){const s=Array.from(t.entries()),e=encodeURIComponent(JSON.stringify(s));document.cookie=`owned=${e}; path=/; max-age=${60*60*24*365}`}const y=V(new Map);st();y.subscribe(t=>{ot(t)});function nt(t){y.update(s=>{const e=new Map(s);return e.get(t)?e.delete(t):e.set(t,!0),new Map(e)})}var at=P('<div><div class="card-buttons svelte-1lxuvga"><button class="svelte-1lxuvga"><img alt="fav" class="svelte-1lxuvga"></button> <button class="svelte-1lxuvga"><img alt="own" class="svelte-1lxuvga"></button></div> <div class="card-top svelte-1lxuvga"><button><img class="svelte-1lxuvga"></button></div> <div class="card-bottom svelte-1lxuvga"><h4 class="svelte-1lxuvga">notes:</h4> <p class="svelte-1lxuvga"> </p></div></div>');function mt(t,s){D(s,!1);const[e,i]=Q(),n=()=>C(k,"$favorites",e),r=()=>C(y,"$owned",e),a=()=>C(v(),"$activeStates",e);let o=J(s,"card",8),v=J(s,"activeStates",8);function f(l){v().update(g=>(g.set(l,!g.get(l)),new Map(g)))}K();var p=at();let S;var x=c(p),d=c(x),F=c(d);u(d);var _=w(d,2),W=c(_);u(_),u(x);var M=w(x,2),m=c(M),$=c(m);u(m),u(M);var A=w(M,2),N=w(c(A),2),q=c(N,!0);u(N),u(A),u(p),E((l,g,z,L)=>{S=U(p,1,"card svelte-1lxuvga",null,S,l),b(F,"src",g),b(W,"src",z),U(m,1,L,"svelte-1lxuvga"),b($,"src",`https://images.digimoncard.io/images/cards/${o().id}.jpg`),b($,"alt",o().id),I(q,o().set_name)},[()=>({favorite:n().get(o().id),owned:r().get(o().id)}),()=>n().get(o().id)?"/images/favfilled.png":"/images/fav.png",()=>r().get(o().id)?"/images/isowned.png":"/images/owned.png",()=>X(a().get(o().id)?"img-container-popup":"img-container")],G),h("click",d,l=>{it(o().id)}),h("click",_,l=>{nt(o().id)}),h("error",$,l=>{l.target.src="/images/logo.png"}),h("click",m,()=>{f(o().id)}),B(t,p),H(),i()}export{mt as C};
